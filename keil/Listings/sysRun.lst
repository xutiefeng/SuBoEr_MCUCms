C51 COMPILER V9.60.0.0   SYSRUN                                                            10/17/2024 16:51:07 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SYSRUN
OBJECT MODULE PLACED IN .\Objects\sysRun.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\BSP\sysRun.c OMF2 OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Libary\Device\CM
                    -S8S6990\Include;..\Libary\StdDriver\inc;..\code;..\u8g2;..\GUI) DEBUG PRINT(.\Listings\sysRun.lst) TABS(2) OBJECT(.\Obje
                    -cts\sysRun.obj)

line level    source

   1          
   2          ////////min sys//////
   3          //#include "globe.h"
   4          //#include "clib.h"
   5          //#include "FuncTab.h"
   6          //#include "sysRun.h"
   7          //#include "buzzer.h"
   8          //#include "string.h"
   9          #include "includeall.h"
  10          //#include "AiP4952_Apply.h"  
  11          //#include "Dispaly,h"
  12          //extern void SetSysRunTime(u8 v);
  13          //extern u8 GetSysRunTime(void);
  14          //extern void  LED_Scan(void);
  15          //extern void display_hex(u8 v);
  16          //extern void display_dec(u8 v);
  17          //extern void display_log(u8 v);
  18          //extern void SetIcon_DingShi_1628(u8 v);
  19          //extern void SetIcon_ShuShui_1628(u8 v);
  20          //extern void SetIcon_ChuMan_1628 (u8 v);
  21          //extern void LED_Key_1628(u8 v1,u8 v2);
  22          //extern void display_process(u8 u);
  23          //void CloseFuZai(void)
  24          //{
  25          //  HEAT_io =  0;
  26          //}
  27          
  28          //void sysRest(void)
  29          //{
  30          //   SetSysRunTime(gSetSysRunTime);
  31          //   memset(gbFlagData,0,sizeof(gbFlagData));
  32          //   memset(&gstRDsysTick,0,sizeof(gstRDsysTick));
  33          //   CloseFuZai();
  34          //   Auto1Flag = 0;
  35          //   Auto2Flag = 0;
  36          //   Auto3Flag = 0;
  37          //   SysRunFlag = 0;
  38          //   gstFactory.RunTimeMax = 0;
  39          //   
  40          //   gStep.Bit.sStep = 0;
  41          //   BuzzerFlag = 1;
  42          //   SetNoKeyTime(200);
  43          //   HeatInit();
  44          //   SetLED_Init();
  45          //   CheckFinishFlag = 0;
  46          //}
  47          
  48          //void DaiJiMode(void)
  49          //{
  50          //   SetSysRunTime(gSetSysRunTime);
  51          //   CloseFuZai();
  52          //   display_Close();
  53          //   display_standby();
C51 COMPILER V9.60.0.0   SYSRUN                                                            10/17/2024 16:51:07 PAGE 2   

  54          //}
  55          
  56          //u8 SelfCheck(void)
  57          //{
  58          //  u8 sw;
  59          //  
  60          //  if(SysRunFlag)
  61          //    return 0;
  62          //  
  63          //  if(CheckFinishFlag)
  64          //    return 0;
  65          
  66          //  switch(gStep.Bit.sStep)
  67          //  {
  68          //    case 0:
  69          //    
  70          //      sw = AccompanyFunc_OnOffHandle1(&gHeatTime,gStep.Bit.sStep,LEDOnOffTimeTab);
  71          //      
  72          //      if(sw == 1)
  73          //      {
  74          //          display_Heat(ON);
  75          //          SetIcon_AllLight_ON();
  76          //      }
  77          //      else
  78          //      {
  79          //          display_Heat(OFF);
  80          //      }
  81          //      
  82          //      if(gHeatTime == 0)
  83          //      {
  84          //          CheckFinishFlag = 1;
  85          //      }
  86          
  87          //    break;
  88          //    
  89          //    default:
  90          //      break;
  91          
  92          //    return 0;
  93          //  }
  94          //}
  95          //void display_logic(void)
  96          //{
  97          //  extern  void SetIconH_1628(u8 v);
  98          //  extern  void SetIconC_1628(u8 v);
  99          //    static xdata u8 sBlinkTime;
 100          //    u8 sw;
 101          
 102          //    if(!CheckFinishFlag)
 103          //      return;
 104          //    if(SysRunFlag)
 105          //    {
 106          //        
 107          //        if(Auto3Flag && !JieDianDisplayFlag)
 108          //        {
 109          //            display_hex(0xf0);
 110          //            SetIconH_1628(OFF);
 111          //            SetIconC_1628(OFF);
 112          //            SetIcon_ChuMan_1628(ON);
 113          //            SetIcon_ShuShui_1628(OFF);
 114          //            SetIcon_DingShi_1628(OFF);
 115          //        }
C51 COMPILER V9.60.0.0   SYSRUN                                                            10/17/2024 16:51:07 PAGE 3   

 116          //        else if(Auto1Flag && !JieDianDisplayFlag)
 117          //        {
 118          //            display_dec(36);
 119          //            SetIconC_1628(ON);
 120          //            SetIconH_1628(OFF);
 121          //            SetIcon_ChuMan_1628(OFF);
 122          //            SetIcon_ShuShui_1628(ON);
 123          //            SetIcon_DingShi_1628(OFF);
 124          //        }
 125          //        else if(Auto2Flag && !JieDianDisplayFlag)
 126          //        {           
 127          //            SetIcon_DingShi_1628(ON);
 128          //            SetIcon_ShuShui_1628(OFF);
 129          //            SetIcon_ChuMan_1628(OFF);
 130          //          
 131          //            sw = AccompanyFunc_OnOffHandle1(&sBlinkTime,0,LED_BinkTimeTab);           
 132          //            
 133          //            if(sw == 1)
 134          //            {
 135          //                display_dec(gSetSysRunTime);
 136          //            }
 137          //            else
 138          //            {
 139          //                display_Close();
 140          //            } 
 141          //            SetIconH_1628(ON);
 142          //            SetIconC_1628(OFF);
 143          //        }
 144          //        else
 145          //        {     
 146          //            if(sKey_yyy.Bit.gNoKeyTime  == 0)
 147          //            {
 148          //                display_Close();
 149          //                SetIconC_1628(OFF);
 150          //                display_log(OFF);
 151          //            }
 152          //            else
 153          //            {     
 154          //                display_dec(getHeatLevel());
 155          //                SetIconC_1628(ON);
 156          //                SetIconH_1628(OFF);
 157          //                display_log(ON);
 158          //            }
 159          //            
 160          //            if(DaiJiDispalyFlag)
 161          //            {
 162          //                display_standby();
 163          //                SetIcon_ChuMan(OFF);                
 164          //            }
 165          //            
 166          //            if(Auto3Flag)
 167          //            {
 168          //                SetIcon_ChuMan(ON);
 169          //            }
 170          //            else if(Auto1Flag)
 171          //            {
 172          //                SetIcon_ShuShui_1628(ON);
 173          //            }
 174          //            else
 175          //            {
 176          //                SetIcon_DingShi_1628(ON);
 177          //            }
C51 COMPILER V9.60.0.0   SYSRUN                                                            10/17/2024 16:51:07 PAGE 4   

 178          //        }     
 179          //        if(GetKeySongKai_time())
 180          //        {
 181          //            LED_Key_1628(0xff,0xff);//LED_Key(ON);
 182          //        }
 183          //        else
 184          //        {
 185          //            LED_Key_1628(OFF,OFF);//LED_Key(OFF);
 186          //        }
 187          //    }
 188          //    else
 189          //    {
 190          //      if(GetKeySongKai_time()== 0)
 191          //      {   
 192          //          display_Close();
 193          //          //display_log(OFF);
 194          //      }
 195          //      else if(GetKeySongKai_time()<= 100 )
 196          //      {
 197          //          //SetIcon_C(OFF);
 198          //          display_standby();
 199          //          LED_Key_1628(OFF,OFF);//LED_Key(OFF);//LED_Key(OFF);//PowerLed_OFF
 200          //          
 201          //      }
 202          //      else
 203          //      {
 204          //          LED_Key_1628(0xff,0xff);//LED_Key(OFF);//LED_Key(ON);
 205          //          
 206          //          display_dec(25);
 207          //          SetIconC_1628(ON);
 208          //          SetIconH_1628(OFF);
 209          //          display_log(ON);
 210          //      }       
 211          //    }
 212          //    
 213          //    if(getHeatLevel() == 0)
 214          //    {
 215          //      display_Heat(OFF);        
 216          //    }
 217          //    else
 218          //    {
 219          //      display_Heat(ON);
 220          //    }
 221          //}
 222          ///*******************************************************************************************************
             -*********************************** 
 223          //* 函数名称  SysRunTime
 224          //* 功能说明  ：功能运行时间倒计时，最小单位S
 225          //* 输入：   无
 226          //* 输出：   无
 227          //* 注意 无
 228          //********************************************************************************************************
             -**********************************/
 229          //void SysRunTime(void)
 230          //{
 231          //    if(!SysRunFlag)
 232          //      return ;
 233          //    
 234          //    if(gSysRunTime >0)
 235          //    {
 236          //        gSysRunTime--;
 237          //        
C51 COMPILER V9.60.0.0   SYSRUN                                                            10/17/2024 16:51:07 PAGE 5   

 238          //        if(gSysRunTime == 0)
 239          //        {
 240          //            SetLHeatLevel(GetHeatUnit(),0);
 241          //            DaiJiDispalyFlag =1;
 242          //        }       
 243          //    }
 244          //    
 245          //}
 246          
 247          ///*******************************************************************************************************
             -*********************************** 
 248          //* 函数名称  GetSysRunTime
 249          //* 功能说明  ：获取系统时间时长
 250          //* 输入：   无 
 251          //* 输出：   已经设置的系统时间时长
 252          //* 注意 无
 253          //********************************************************************************************************
             -**********************************/
 254          //u8 GetSysRunTime(void)
 255          //{
 256          //  return gSetSysRunTime;
 257          //}
 258          
 259          ///*******************************************************************************************************
             -*********************************** 
 260          //* 函数名称: sysRuning
 261          //* 功能说明: 逻辑框架运行
 262          //* 输    入: 无
 263          //* 输    出: 无
 264          //********************************************************************************************************
             -**********************************/
 265          
 266          void sysRuning(void)
 267          { 
 268   1          
 269   1          EventCollect();
 270   1          switch(PopEvent())
 271   1          {  
 272   2            case evSysRest:
 273   2      
 274   2            break;
 275   2      
 276   2            case ev5MS:       
 277   2            {
 278   3          
 279   3            } 
 280   2            break;  
 281   2          
 282   2            case ev20MS:
 283   2            {
 284   3                                
 285   3            }
 286   2            break;
 287   2      
 288   2            case ev50MS:
 289   2            {
 290   3                Kye_Scan();         
 291   3            }
 292   2            break;
 293   2              
 294   2            case ev100MS:
 295   2            {       
C51 COMPILER V9.60.0.0   SYSRUN                                                            10/17/2024 16:51:07 PAGE 6   

 296   3                    
 297   3            }
 298   2            break;
 299   2              
 300   2            case ev1S:
 301   2            { 
 302   3      
 303   3            }
 304   2            break;
 305   2              
 306   2            default:
 307   2                break;
 308   2         }
 309   1          
 310   1      }
*** WARNING C316 IN LINE 310 OF ..\BSP\sysRun.c: unterminated conditionals


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     17    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
