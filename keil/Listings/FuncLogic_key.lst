C51 COMPILER V9.60.0.0   FUNCLOGIC_KEY                                                     10/18/2024 18:24:21 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE FUNCLOGIC_KEY
OBJECT MODULE PLACED IN .\Objects\FuncLogic_key.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\BSP\FuncLogic_key.c OMF2 OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Libary\De
                    -vice\CMS8S6990\Include;..\Libary\StdDriver\inc;..\code;..\u8g2;..\GUI) DEBUG PRINT(.\Listings\FuncLogic_key.lst) TABS(2)
                    - OBJECT(.\Objects\FuncLogic_key.obj)

line level    source

   1          #include "includeall.h"
   2          #include  "FuncLogic_key.h"
   3          #include "FuncTab.h"
   4          
   5          /*********************************************************************************************************
             -********************************* 
   6          * 函数名称: GetKeySongKai_time
   7          * 功能说明: 获取按键松开时长
   8          * 输    入: 无  
   9          * 输    出: 无
  10          **********************************************************************************************************
             -********************************/
  11          u8 GetKeySongKai_time(void)
  12          {
  13   1           return sKey_yyy.Bit.gNoKeyTime;
  14   1      }
  15          
  16          /*********************************************************************************************************
             -********************************* 
  17          * 函数名称: KeySelect
  18          * 功能说明: 选择按键
  19          * 输    入: 无  
  20          * 输    出: 无
  21          * 注意事项: 单按键轮流切换
  22          **********************************************************************************************************
             -********************************/
  23          void KeySelectMode(void)
  24          {
  25   1          if(!SysRunFlag)
  26   1            return;
  27   1          
  28   1          if(/*!Auto1Flag && !Auto2Flag !*/Auto3Flag)
  29   1          {
  30   2              Auto1Flag = 1;
  31   2              Auto2Flag = 0;
  32   2              Auto3Flag = 0;      
  33   2              //SetSysRunTime(DefaultTimerTab[0]);
  34   2          }
  35   1          else if(Auto1Flag)
  36   1          {
  37   2              Auto1Flag = 0;
  38   2              Auto2Flag = 1;
  39   2              //SetSysRunTime(DefaultTimerTab[1]);
  40   2          }
  41   1          else
  42   1          {
  43   2              Auto1Flag = 0;
  44   2              Auto2Flag = 0;
  45   2              Auto3Flag = 1;
  46   2              //SetSysRunTime(DefaultTimerTab[1]);
  47   2          }   
  48   1      }
  49          /*********************************************************************************************************
C51 COMPILER V9.60.0.0   FUNCLOGIC_KEY                                                     10/18/2024 18:24:21 PAGE 2   

             -********************************* 
  50          *函数名称 SetSysRunTime
  51          *函数功能 设置系统运行时间  
  52          *输入 ：xxx分钟
  53          *输出： 无
  54          **********************************************************************************************************
             -********************************/
  55          
  56          void SetSysRunTime(u8 v)
  57          {
  58   1        gSetSysRunTime = v;
  59   1        gSysRunTime = gSetSysRunTime*60;
  60   1      }
  61          
  62          /*********************************************************************************************************
             -********************************* 
  63          * 功能说明: * 函数名称: KeySelect
  64          * 功能说明: 选择按键
  65          * 输    入: 无  
  66          * 输    出: 无
  67          * 输    入: 无  
  68          * 输    出: 无
  69          * 注意事项:
  70          **********************************************************************************************************
             -********************************/
  71          void SelectWorkMode(u8 v)
  72          {
  73   1          if(!SysRunFlag)
  74   1            return;
  75   1          
  76   1          if(v ==1)
  77   1          {
  78   2              Auto1Flag = 1;
  79   2              Auto2Flag = 0;
  80   2              Auto3Flag = 0;          
  81   2              SetSysRunTime(DefaultTimerTab[0]);
  82   2          }
  83   1          else if(v == 2)
  84   1          {
  85   2              Auto1Flag = 0;
  86   2              Auto2Flag = 1;
  87   2              Auto3Flag = 0;  
  88   2              SetSysRunTime(DefaultTimerTab[1]);
  89   2          }
  90   1          else
  91   1          {
  92   2              Auto1Flag = 0;
  93   2              Auto2Flag = 0;
  94   2              Auto3Flag = 1;
  95   2              SetSysRunTime(DefaultTimerTab[1]);
  96   2          }   
  97   1      }
  98          
  99          /*********************************************************************************************************
             -********************************* 
 100          * 函数名称: KeyLongPress
 101          * 功能说明: 判断哪个按键按下,执行的是开关机功能
 102          * 输    入: 按键值  
 103          * 输    出: 无
 104          * 注意事项: 无
 105          **********************************************************************************************************
             -********************************/
C51 COMPILER V9.60.0.0   FUNCLOGIC_KEY                                                     10/18/2024 18:24:21 PAGE 3   

 106          void KeyLongPress(u8 v)
 107          {
 108   1        u8 KeyChanal = v;
 109   1        
 110   1        switch(KeyChanal)//判断哪个按键按下
 111   1        {
 112   2          case 1://执行的开关机功能
 113   2            
 114   2          break;
 115   2      
 116   2          default:
 117   2            break;  
 118   2        }
 119   1      }
 120          
 121          /*********************************************************************************************************
             -********************************* 
 122          * 函数名称: KeyShortPress
 123          * 功能说明: 判断哪个按键按下
 124          * 输    入: 按键值  
 125          * 输    出: 无
 126          * 注意事项: 无
 127          **********************************************************************************************************
             -********************************/
 128          
 129          void KeyShortPress(u8 v)
 130          {
 131   1        u8 KeyChanal = v;
 132   1        
 133   1        
 134   1        switch(KeyChanal)//判断哪个按键按下
 135   1        { 
 136   2            case 2: 
 137   2      
 138   2            break;
 139   2      
 140   2            default :
 141   2              break;      
 142   2        }
 143   1      }
 144          
 145           void   QuitMode(void)
 146           {   
 147   1        
 148   1       }
 149          
 150          
 151          void SetNoKeyTime(u8 v)
 152          {
 153   1          sKey_yyy.Bit.gNoKeyTime = v;
 154   1      }
 155          
 156          
*** WARNING C316 IN LINE 156 OF ..\BSP\FuncLogic_key.c: unterminated conditionals


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    172    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.60.0.0   FUNCLOGIC_KEY                                                     10/18/2024 18:24:21 PAGE 4   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
